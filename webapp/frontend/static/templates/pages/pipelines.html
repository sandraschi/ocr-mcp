<div class="content-section">
    <div class="page-header">
        <h1><i class="fas fa-project-diagram"></i> Custom Processing Pipelines</h1>
        <p>Create and execute automated document processing workflows with drag-and-drop pipeline builder.</p>
    </div>

    <div class="pipelines-workspace">
        <!-- Pipeline Builder -->
        <div class="pipeline-builder">
            <div class="builder-header">
                <h3>Pipeline Builder</h3>
                <div class="builder-controls">
                    <button class="btn btn-outline" onclick="createNewPipeline()">
                        <i class="fas fa-plus"></i> New Pipeline
                    </button>
                    <button class="btn btn-outline" onclick="loadPipeline()">
                        <i class="fas fa-folder-open"></i> Load Pipeline
                    </button>
                    <button class="btn btn-outline" onclick="savePipeline()">
                        <i class="fas fa-save"></i> Save Pipeline
                    </button>
                    <button class="btn btn-primary" onclick="runPipeline()">
                        <i class="fas fa-play"></i> Run Pipeline
                    </button>
                </div>
            </div>

            <div class="pipeline-canvas" id="pipeline-canvas">
                <div class="canvas-placeholder">
                    <i class="fas fa-project-diagram"></i>
                    <h3>Pipeline Canvas</h3>
                    <p>Drag and drop processing steps from the palette below</p>
                </div>
            </div>

            <div class="pipeline-steps">
                <h4>Available Steps</h4>
                <div class="steps-palette">
                    <div class="step-item" draggable="true" data-step="deskew_image">
                        <i class="fas fa-compass"></i> Deskew Image
                    </div>
                    <div class="step-item" draggable="true" data-step="enhance_image">
                        <i class="fas fa-sun"></i> Enhance Image
                    </div>
                    <div class="step-item" draggable="true" data-step="process_document">
                        <i class="fas fa-brain"></i> OCR Processing
                    </div>
                    <div class="step-item" draggable="true" data-step="assess_ocr_quality">
                        <i class="fas fa-chart-line"></i> Quality Assessment
                    </div>
                    <div class="step-item" draggable="true" data-step="extract_tables">
                        <i class="fas fa-table"></i> Extract Tables
                    </div>
                    <div class="step-item" draggable="true" data-step="convert_image_format">
                        <i class="fas fa-exchange-alt"></i> Format Conversion
                    </div>
                    <div class="step-item" draggable="true" data-step="export_results">
                        <i class="fas fa-download"></i> Export Results
                    </div>
                </div>
            </div>
        </div>

        <!-- Saved Pipelines -->
        <div class="saved-pipelines">
            <h3>Saved Pipelines</h3>
            <div class="pipelines-list" id="pipelines-list">
                <div class="pipeline-card">
                    <h4>Basic OCR Pipeline</h4>
                    <p>Simple OCR processing workflow</p>
                    <small>Steps: 3 | Last run: Never</small>
                </div>
                <div class="pipeline-card">
                    <h4>Quality Focused Pipeline</h4>
                    <p>High-accuracy OCR with validation</p>
                    <small>Steps: 5 | Last run: Never</small>
                </div>
                <div class="pipeline-card">
                    <h4>Archive Ready Pipeline</h4>
                    <p>Complete document processing for archiving</p>
                    <small>Steps: 7 | Last run: Never</small>
                </div>
            </div>
        </div>

        <!-- Pipeline Execution Monitor -->
        <div class="pipeline-monitor" id="pipeline-monitor" style="display: none;">
            <div class="monitor-header">
                <h3>Pipeline Execution</h3>
                <div class="monitor-controls">
                    <button class="btn btn-sm btn-outline" onclick="pausePipeline()">
                        <i class="fas fa-pause"></i> Pause
                    </button>
                    <button class="btn btn-sm btn-outline" onclick="stopPipeline()">
                        <i class="fas fa-stop"></i> Stop
                    </button>
                </div>
            </div>

            <div class="execution-steps" id="execution-steps">
                <!-- Execution steps will be shown here -->
            </div>

            <div class="execution-progress">
                <div class="progress-bar">
                    <div class="progress-fill" id="pipeline-progress-fill"></div>
                </div>
                <div class="progress-text">
                    <span id="pipeline-progress-text">0 of 0 steps completed</span>
                </div>
            </div>
        </div>
    </div>
</div>